# UI自动化框架架构
![图片](/系统架构.png)
该框架旨在自动化执行UI操作，如输入、点击和导航，主要用于测试。以下是各个组件及其工作流程的详细介绍：

## 1. **操作管理器 (`action_manager`)**
   - **作用**: 中央管理器，注册和组织各种操作，例如输入、打开、刷新和点击等。
   - **关键组件**:
     - **输入操作**: 注册“input”操作，用于与文本框进行交互，输入值。
     - **打开操作**: 注册“open”操作，用于执行URL导航。
     - **点击操作**: 用于模拟点击按钮或链接。
     - **断言管理**: 注册各种操作后检查UI状态的断言操作。

## 2. **操作引擎 (`action_engine`)**
   - **作用**: 执行由操作管理器注册的各种操作。
   - **关键组件**:
     - **加载操作**: 加载要执行的操作步骤，这些步骤定义在`actions`文件中。
     - **执行操作**: 按照定义的顺序执行操作。
     - **运行**: 启动操作流程，传递所需的参数。
     - **断言**: 在执行操作后，验证预期的结果是否实现。

## 3. **操作步骤文件 (`actions`)**
   - **作用**: 定义不同用例的步骤，例如登录、分类、断言等。
   - **示例**: 在`login`步骤中，定义了打开URL、输入用户名、输入密码和点击按钮提交表单等操作。

## 4. **执行上下文 (`ctx`)**
   - **作用**: 保存每个操作步骤的动态数据和参数。
   - **示例**: 在登录场景中，`ctx`包含用户名、密码等参数。

## 5. **测试执行**
   - **执行流程**:
     1. 在`actions`文件中定义步骤（例如`login`、`add_classify`、`classify_assert`）。
     2. 初始化`ActionEngine`并传入驱动（driver）。
     3. 按顺序执行每个操作步骤：
        ```python
        engine.run("login", ctx)
        engine.run("add_classify", ctx)
        ```
     4. 执行断言操作：`engine.assert`。

---
